<section #myElement>
  <h1>THICKNESS MEASUREMENT REPORT INDEX</h1>
  <div class="infoBox">
    <div class="labelBox">
      <label for=""> SHIP'S NAME</label><br />
      <label for=""> IMO No.</label><br />
      <label for=""> CLASS ID.</label><br />
      <label for=""> REPORT No.</label><br />
      <label for=""> TYPE OF SURVEY</label><br />
    </div>
    <div class="outputBox">
      <span style="margin-right: 10px">:</span>
      <span style="color: cadetblue"
        ><b>{{ outShipName }}</b></span
      ><br />
      <span style="margin-right: 10px">:</span>
      <span style="color: blue"
        ><b>{{ outIMO }}</b></span
      ><br />
      <span style="margin-right: 10px">:</span>
      <span
        ><b>{{ outClass }}</b></span
      ><br />
      <span style="margin-right: 10px">:</span>
      <span
        ><b>{{ outReport }}</b></span
      ><br />
      <span style="margin-right: 10px">:</span>
      <span
        ><b>{{ outSurvey }}</b></span
      ><br />
    </div>
  </div>
  <div class="index-list">
    <nz-table
      #borderedTable
      nzTemplateMode="true"
      nzBordered
      [nzScroll]="{ y: '500px' }"
    >
      <thead class="titleTable">
        <tr class="titleTable">
          <th class="titleTable" nzWidth="80px">Part.</th>
          <th class="titleTable">Item</th>
          <th class="titleTable" nzWidth="200px">Action</th>
        </tr>
      </thead>
      <tbody *ngFor="let part of parts; let i = index">
        <tr>
          <td style="text-align: center; background-color: #f5f5f5">
            <b>{{ part.partIndex }}</b>
          </td>
          <td
            *ngIf="part.edit === false; else editpartname"
            style="background-color: #f5f5f5"
          >
            <b>{{ part.partName }}</b>
          </td>
          <ng-template #editpartname>
            <td>
              <input
                nz-input
                placeholder="Enter new part name"
                [(ngModel)]="part.partName"
              />
            </td>
          </ng-template>
          <td
            *ngIf="part.edit === false; else savepart"
            style="
              display: flex;
              flex-direction: row;
              justify-content: space-around;
              text-align: center;
              background-color: #f5f5f5;
              align-items: center;
            "
          >
            <a (click)="editPart(i)">Edit</a>
            <div>
              <a
                ><span
                  (click)="moveUpPart(i)"
                  style="color: black"
                  nz-icon
                  nzType="up"
                  nzTheme="outline"
                ></span
              ></a>
              <br />
              <a
                ><span
                  (click)="moveDownPart(i)"
                  style="color: black"
                  nz-icon
                  nzType="down"
                  nzTheme="outline"
                ></span
              ></a>
            </div>
            <!-- <a
              (nzOnConfirm)="moveUpPart(i)"
              (nzOnCancel)="cancel()"
              nz-popconfirm
              nzPopconfirmTitle="Sure to move?"
              >Move up</a
            >
            <nz-divider nzType="vertical"></nz-divider>
            <a
              (nzOnConfirm)="moveDownPart(i)"
              (nzOnCancel)="cancel()"
              nz-popconfirm
              nzPopconfirmTitle="Sure to move?"
              >Move down</a
            > -->
          </td>
          <ng-template #savepart>
            <td style="text-align: center; background-color: #f5f5f5">
              <a (click)="savePart(i)">Save</a>
            </td>
          </ng-template>
        </tr>
        <tr *ngFor="let form of part.forms; let j = index">
          <td style="text-align: center">
            {{ part.partIndex }}.{{ form.index }}
          </td>
          <td>{{ form.name }}</td>
          <td style="text-align: center">
            <a
              (nzOnConfirm)="moveUpForm(i, j)"
              (nzOnCancel)="cancel()"
              nz-popconfirm
              nzPopconfirmTitle="Sure to move?"
              >Move up</a
            >
            <nz-divider nzType="vertical"></nz-divider>
            <a
              (nzOnConfirm)="moveDownForm(i, j)"
              (nzOnCancel)="cancel()"
              nz-popconfirm
              nzPopconfirmTitle="Sure to move?"
              >Move down</a
            >
          </td>
        </tr>
      </tbody>
    </nz-table>
  </div>
</section>
